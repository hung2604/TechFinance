import{_ as x}from"./BgNR3wsS.js";import{f as y,ac as h,r as p,c as k,a as u,b as t,w as r,x as a,D as v,E as g,q as V,e as b,o as N,d as i,G as P}from"./oqaamrP9.js";const U={class:"text-center text-sm text-gray-600 dark:text-gray-400"},G=y({__name:"reset-password",setup(q){const c=h(),s=p(!1),o=p({password:"",confirmPassword:""}),_=async()=>{if(o.value.password===o.value.confirmPassword){s.value=!0;try{await $fetch("/api/auth/reset-password",{method:"POST",body:{token:c.query.token,password:o.value.password}}),P("/login")}catch(l){console.error("Reset password error:",l)}finally{s.value=!1}}};return(l,e)=>{const d=x,m=g("UFormGroup"),f=V,w=b;return N(),k("div",null,[u("form",{onSubmit:v(_,["prevent"]),class:"space-y-6"},[t(m,{label:"Mật khẩu mới",name:"password"},{default:r(()=>[t(d,{modelValue:a(o).password,"onUpdate:modelValue":e[0]||(e[0]=n=>a(o).password=n),type:"password",placeholder:"Nhập mật khẩu mới",autocomplete:"new-password",required:""},null,8,["modelValue"])]),_:1}),t(m,{label:"Xác nhận mật khẩu",name:"confirmPassword"},{default:r(()=>[t(d,{modelValue:a(o).confirmPassword,"onUpdate:modelValue":e[1]||(e[1]=n=>a(o).confirmPassword=n),type:"password",placeholder:"Nhập lại mật khẩu mới",autocomplete:"new-password",required:""},null,8,["modelValue"])]),_:1}),t(f,{type:"submit",color:"primary",block:"",loading:a(s)},{default:r(()=>e[2]||(e[2]=[i(" Đặt lại mật khẩu ")])),_:1},8,["loading"]),u("div",U,[t(w,{to:"/login",class:"text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 font-medium"},{default:r(()=>e[3]||(e[3]=[i(" Quay lại đăng nhập ")])),_:1})])],32)])}}});export{G as default};
